(this.webpackJsonpforms=this.webpackJsonpforms||[]).push([[0],{20:function(e,n,t){},40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t.n(c),a=t(15),o=t.n(a),s=(t(20),t(5)),i=t(3),u=t(0),d=function(e){var n=e.persons,t=e.searchString,c=e.deletePerson;return n.map((function(e){if(e.name.toLowerCase().includes(t.toLowerCase()))return Object(u.jsxs)("div",{children:[e.name," ",e.number," ",Object(u.jsx)("button",{onClick:function(){return c(e.id)},style:{borderColor:"red"},children:" delete "})]},e.id)}))},l=function(e){var n=e.handleNameChange,t=e.handleNumberChange,c=(e.handleSearchString,e.addPerson);return Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{children:["name : ",Object(u.jsx)("input",{onChange:n})]}),Object(u.jsxs)("div",{children:["number: ",Object(u.jsx)("input",{onChange:t})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",onClick:c,children:"add"})})]})},j=t(4),b=t.n(j),h="https://part3exercises.herokuapp.com/persons",f=(t(40),function(e){var n=e.injectMessage;return Object(u.jsxs)("h3",{className:n.length>3?"logMessage":"",children:[" ",n]},n)}),O=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(""),o=Object(i.a)(a,2),j=o[0],O=o[1],g=Object(c.useState)(""),m=Object(i.a)(g,2),p=m[0],v=m[1],x=Object(c.useState)(""),C=Object(i.a)(x,2),S=C[0],N=C[1],P=Object(c.useState)(""),k=Object(i.a)(P,2),D=k[0],w=k[1];Object(c.useEffect)((function(){b.a.get(h).then((function(e){return e.data})).then((function(e){console.log("promise fulfilled"),console.log(e),r(e)}))}),[]);var F=function(e){e.preventDefault(),w(e.target.value),console.log(e)};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(f,{injectMessage:S}),Object(u.jsxs)("div",{children:["search : ",Object(u.jsx)("input",{onChange:F})]}),Object(u.jsx)(l,{handleNameChange:function(e){e.preventDefault(),O(e.target.value),console.log(e)},handleSearchString:F,handleNumberChange:function(e){e.preventDefault(),v(e.target.value),console.log(e)},addPerson:function(e){if(e.preventDefault(),t.reduce((function(e,n){return n.name===j||e}),!1)){var n=t.find((function(e){return e.name===j}));console.log(n,"ididid");var c=Object(s.a)(Object(s.a)({},n),{},{number:p});r(t.map((function(e){return e.id===n.id?c:e}))),function(e,n){b.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))}(n.id,Object(s.a)(Object(s.a)({},n),{},{number:p})),N("Name: ".concat(n.name,"'s number has been changed."))}else{var a={name:j,number:p};!function(e){b.a.post(h,e).then((function(e){return e.data}))}(a),N("Name: ".concat(a.name," has been injected.")),console.log(S),r(t.concat(a))}}}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(d,{deletePerson:function(e){var n=t.filter((function(n){return n.id!==e}));r(n)},persons:t,searchString:D})]})},g=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,42)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById("root")),g()}},[[41,1,2]]]);
//# sourceMappingURL=main.63c90112.chunk.js.map